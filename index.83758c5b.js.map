{"mappings":"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","sources":["<anon>","src/scripts/main.js","src/modules/Game.class.js","node_modules/@swc/helpers/esm/_class_call_check.js","node_modules/@swc/helpers/esm/_create_class.js"],"sourcesContent":["(function () {\n\"use strict\";\nvar $3d28d7f1aac198f5$exports = {};\nfunction $8713978b2328d32b$export$71511d61b312f219(instance, Constructor) {\n    if (!(instance instanceof Constructor)) throw new TypeError(\"Cannot call a class as a function\");\n}\n\n\nfunction $4fc75ccb937ab1df$var$_defineProperties(target, props) {\n    for(var i = 0; i < props.length; i++){\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n    }\n}\nfunction $4fc75ccb937ab1df$export$71511d61b312f219(Constructor, protoProps, staticProps) {\n    if (protoProps) $4fc75ccb937ab1df$var$_defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) $4fc75ccb937ab1df$var$_defineProperties(Constructor, staticProps);\n    return Constructor;\n}\n\n\n\"use strict\";\nvar $3d28d7f1aac198f5$var$Game = /*#__PURE__*/ function() {\n    function Game() {\n        var initialState = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : [\n            [\n                0,\n                0,\n                0,\n                0\n            ],\n            [\n                0,\n                0,\n                0,\n                0\n            ],\n            [\n                0,\n                0,\n                0,\n                0\n            ]\n        ];\n        (0, $8713978b2328d32b$export$71511d61b312f219)(this, Game);\n        this.grid = initialState;\n        this.score = 0;\n        this.status = \"idle\";\n    }\n    (0, $4fc75ccb937ab1df$export$71511d61b312f219)(Game, [\n        {\n            key: \"moveLeft\",\n            value: function moveLeft() {\n                var _this = this, _loop = function(row) {\n                    var rowWithoutZero = _this.grid[row].filter(function(item) {\n                        return item > 0;\n                    });\n                    for(var i = 0; i < rowWithoutZero.length - 1; i++)if (rowWithoutZero[i] === rowWithoutZero[i + 1]) {\n                        rowWithoutZero[i] *= 2;\n                        rowWithoutZero[i + 1] = 0;\n                        _this.score += rowWithoutZero[i];\n                    }\n                    rowWithoutZero = rowWithoutZero.filter(function(cell) {\n                        return cell !== 0;\n                    });\n                    while(rowWithoutZero.length < 4)rowWithoutZero.push(0);\n                    _this.grid[row] = rowWithoutZero;\n                };\n                for(var row = 0; row < this.grid.length; row++)_loop(row);\n                this.updateDOM();\n                this.checkWin();\n                if (this.status === \"playing\") {\n                    this.addStartCell();\n                    this.checkLose();\n                }\n            }\n        },\n        {\n            key: \"moveRight\",\n            value: function moveRight() {\n                var _this = this, _loop = function(row) {\n                    var rowWithoutZero = _this.grid[row].filter(function(item) {\n                        return item > 0;\n                    });\n                    for(var i = rowWithoutZero.length - 1; i > 0; i--)if (rowWithoutZero[i] === rowWithoutZero[i - 1]) {\n                        rowWithoutZero[i] *= 2;\n                        rowWithoutZero[i - 1] = 0;\n                        _this.score += rowWithoutZero[i];\n                    }\n                    rowWithoutZero = rowWithoutZero.filter(function(cell) {\n                        return cell !== 0;\n                    });\n                    while(rowWithoutZero.length < 4)rowWithoutZero.unshift(0);\n                    _this.grid[row] = rowWithoutZero;\n                };\n                for(var row = 0; row < this.grid.length; row++)_loop(row);\n                this.updateDOM();\n                this.checkWin();\n                if (this.status === \"playing\") {\n                    this.addStartCell();\n                    this.checkLose();\n                }\n            }\n        },\n        {\n            key: \"moveUp\",\n            value: function moveUp() {\n                var _this = this, _loop = function(col) {\n                    var colWithoutZero = [];\n                    for(var row = 0; row < _this.grid.length; row++)if (_this.grid[row][col] > 0) colWithoutZero.push(_this.grid[row][col]);\n                    for(var i = 0; i < colWithoutZero.length - 1; i++)if (colWithoutZero[i] === colWithoutZero[i + 1]) {\n                        colWithoutZero[i] *= 2;\n                        colWithoutZero[i + 1] = 0;\n                        _this.score += colWithoutZero[i];\n                    }\n                    colWithoutZero = colWithoutZero.filter(function(cell) {\n                        return cell !== 0;\n                    });\n                    while(colWithoutZero.length < 4)colWithoutZero.push(0);\n                    for(var row1 = 0; row1 < _this.grid.length; row1++)_this.grid[row1][col] = colWithoutZero[row1];\n                };\n                for(var col = 0; col < this.grid[0].length; col++)_loop(col);\n                this.updateDOM();\n                this.checkWin();\n                if (this.status === \"playing\") {\n                    this.addStartCell();\n                    this.checkLose();\n                }\n            }\n        },\n        {\n            key: \"moveDown\",\n            value: function moveDown() {\n                var _this = this, _loop = function(col) {\n                    var colWithoutZero = [];\n                    for(var row = 0; row < _this.grid.length; row++)if (_this.grid[row][col] > 0) colWithoutZero.push(_this.grid[row][col]);\n                    for(var i = colWithoutZero.length - 1; i > 0; i--)if (colWithoutZero[i] === colWithoutZero[i - 1]) {\n                        colWithoutZero[i] *= 2;\n                        colWithoutZero[i - 1] = 0;\n                        _this.score += colWithoutZero[i];\n                    }\n                    colWithoutZero = colWithoutZero.filter(function(cell) {\n                        return cell !== 0;\n                    });\n                    while(colWithoutZero.length < 4)colWithoutZero.unshift(0);\n                    for(var row1 = 0; row1 < _this.grid.length; row1++)_this.grid[row1][col] = colWithoutZero[row1] || 0;\n                };\n                for(var col = 0; col < this.grid.length; col++)_loop(col);\n                this.updateDOM();\n                this.checkWin();\n                if (this.status === \"playing\") {\n                    this.addStartCell();\n                    this.checkLose();\n                }\n            }\n        },\n        {\n            key: \"checkWin\",\n            value: function checkWin() {\n                for(var row = 0; row < this.grid.length; row++){\n                    for(var col = 0; col < this.grid[row].length; col++)if (this.grid[row][col] === 2048) {\n                        this.status = \"win\";\n                        return true;\n                    }\n                }\n                this.status = \"playing\";\n                return false;\n            }\n        },\n        {\n            key: \"getScore\",\n            value: function getScore() {\n                return this.score;\n            }\n        },\n        {\n            key: \"getState\",\n            value: function getState() {\n                return this.grid;\n            }\n        },\n        {\n            key: \"getStatus\",\n            value: function getStatus() {\n                return this.status;\n            }\n        },\n        {\n            key: \"start\",\n            value: function start() {\n                this.grid = [\n                    [\n                        0,\n                        0,\n                        0,\n                        0\n                    ],\n                    [\n                        0,\n                        0,\n                        0,\n                        0\n                    ],\n                    [\n                        0,\n                        0,\n                        0,\n                        0\n                    ],\n                    [\n                        0,\n                        0,\n                        0,\n                        0\n                    ]\n                ];\n                this.score = 0;\n                this.status = \"playing\";\n                this.updateDOM();\n                this.addStartCell();\n                this.addStartCell();\n            }\n        },\n        {\n            key: \"restart\",\n            value: function restart() {\n                var cells = document.querySelectorAll(\".field-cell\");\n                cells.forEach(function(cell) {\n                    cell.innerHTML = \"\";\n                    cell.className = \"field-cell\";\n                });\n                this.grid = [\n                    [\n                        0,\n                        0,\n                        0,\n                        0\n                    ],\n                    [\n                        0,\n                        0,\n                        0,\n                        0\n                    ],\n                    [\n                        0,\n                        0,\n                        0,\n                        0\n                    ],\n                    [\n                        0,\n                        0,\n                        0,\n                        0\n                    ]\n                ];\n                this.score = 0;\n                this.status = \"idle\";\n                this.updateDOM();\n            }\n        },\n        {\n            key: \"addStartCell\",\n            value: function addStartCell() {\n                var basicCells = Math.random() >= 0.9 ? 4 : 2;\n                var emptyCells = this.grid.flat().filter(function(cell) {\n                    return cell === 0;\n                });\n                if (emptyCells.length === 0) return;\n                var foundedEmpty = false;\n                while(!foundedEmpty)try {\n                    var rowIndex = Math.floor(Math.random() * 4);\n                    var cellIndex = Math.floor(Math.random() * 4);\n                    if (this.grid[rowIndex] && this.grid[rowIndex][cellIndex] === 0) {\n                        this.grid[rowIndex][cellIndex] = basicCells;\n                        this.updateDOM();\n                        foundedEmpty = true;\n                    }\n                } catch (error) {\n                    return;\n                }\n            }\n        },\n        {\n            key: \"updateDOM\",\n            value: function updateDOM() {\n                var cells = document.querySelectorAll(\".field-cell\");\n                for(var row = 0; row < this.grid.length; row++)for(var col = 0; col < this.grid[row].length; col++){\n                    var cell = cells[row * 4 + col];\n                    var value = this.grid[row][col];\n                    cell.className = \"field-cell\";\n                    cell.innerHTML = \"\";\n                    if (value > 0) {\n                        cell.classList.add(\"field-cell--\".concat(value));\n                        cell.innerHTML = value;\n                    }\n                }\n            }\n        },\n        {\n            key: \"checkLose\",\n            value: function checkLose() {\n                for(var row = 0; row < this.grid.length; row++){\n                    for(var col = 0; col < this.grid[row].length; col++)if (this.grid[row][col] === 0) {\n                        this.status = \"playing\";\n                        return false;\n                    }\n                }\n                for(var row1 = 0; row1 < this.grid.length; row1++){\n                    for(var col1 = 0; col1 < this.grid[row1].length; col1++)if (row1 > 0 && this.grid[row1][col1] === this.grid[row1 - 1][col1] || row1 < this.grid.length - 1 && this.grid[row1][col1] === this.grid[row1 + 1][col1] || col1 > 0 && this.grid[row1][col1] === this.grid[row1][col1 - 1] || col1 < this.grid[row1].length - 1 && this.grid[row1][col1] === this.grid[row1][col1 + 1]) {\n                        this.status = \"playing\";\n                        return false;\n                    }\n                }\n                this.status = \"lose\";\n                return true;\n            }\n        }\n    ]);\n    return Game;\n}();\n$3d28d7f1aac198f5$exports = $3d28d7f1aac198f5$var$Game;\n\n\nvar $197cd56b15c33885$var$game = new $3d28d7f1aac198f5$exports();\nvar $197cd56b15c33885$var$startButton = document.querySelector(\".button.start\");\nvar $197cd56b15c33885$var$gameMessage = document.querySelector(\".message.message-start\");\nvar $197cd56b15c33885$var$loseMessage = document.querySelector(\".message.message-lose\");\nvar $197cd56b15c33885$var$winMessage = document.querySelector(\".message.message-win\");\nvar $197cd56b15c33885$var$score = document.querySelector(\".game-score\");\ndocument.addEventListener(\"keydown\", function(e) {\n    if (e.key === \"ArrowLeft\") {\n        $197cd56b15c33885$var$game.moveLeft();\n        $197cd56b15c33885$var$score.innerText = $197cd56b15c33885$var$game.score;\n    } else if (e.key === \"ArrowRight\") {\n        $197cd56b15c33885$var$game.moveRight();\n        $197cd56b15c33885$var$score.innerText = $197cd56b15c33885$var$game.score;\n    } else if (e.key === \"ArrowUp\") {\n        $197cd56b15c33885$var$game.moveUp();\n        $197cd56b15c33885$var$score.innerText = $197cd56b15c33885$var$game.score;\n    } else if (e.key === \"ArrowDown\") {\n        $197cd56b15c33885$var$game.moveDown();\n        $197cd56b15c33885$var$score.innerText = $197cd56b15c33885$var$game.score;\n    }\n    if ($197cd56b15c33885$var$game.getStatus() === \"lose\") {\n        $197cd56b15c33885$var$loseMessage.classList.remove(\"hidden\");\n        $197cd56b15c33885$var$gameMessage.classList.add(\"hidden\");\n    }\n    if ($197cd56b15c33885$var$game.getStatus() === \"win\") {\n        $197cd56b15c33885$var$winMessage.classList.remove(\"hidden\");\n        $197cd56b15c33885$var$gameMessage.classList.add(\"hidden\");\n    }\n});\n$197cd56b15c33885$var$startButton.addEventListener(\"click\", function() {\n    if ($197cd56b15c33885$var$startButton.classList.contains(\"restart\")) {\n        $197cd56b15c33885$var$startButton.classList.replace(\"restart\", \"start\");\n        $197cd56b15c33885$var$startButton.innerHTML = \"Start\";\n        $197cd56b15c33885$var$gameMessage.classList.remove(\"hidden\");\n        $197cd56b15c33885$var$loseMessage.classList.add(\"hidden\");\n        $197cd56b15c33885$var$score.innerText = 0;\n        $197cd56b15c33885$var$game.restart();\n    } else {\n        $197cd56b15c33885$var$startButton.classList.replace(\"start\", \"restart\");\n        $197cd56b15c33885$var$startButton.innerHTML = \"Restart\";\n        $197cd56b15c33885$var$game.start();\n        $197cd56b15c33885$var$gameMessage.classList.add(\"hidden\");\n        $197cd56b15c33885$var$loseMessage.classList.add(\"hidden\");\n    }\n});\n\n})();\n//# sourceMappingURL=index.83758c5b.js.map\n","'use strict';\n\nconst Game = require('../modules/Game.class');\nconst game = new Game();\nconst startButton = document.querySelector('.button.start');\nconst gameMessage = document.querySelector('.message.message-start');\nconst loseMessage = document.querySelector('.message.message-lose');\nconst winMessage = document.querySelector('.message.message-win');\nconst score = document.querySelector('.game-score');\n\ndocument.addEventListener('keydown', (e) => {\n  if (e.key === 'ArrowLeft') {\n    game.moveLeft();\n    score.innerText = game.score;\n  } else if (e.key === 'ArrowRight') {\n    game.moveRight();\n    score.innerText = game.score;\n  } else if (e.key === 'ArrowUp') {\n    game.moveUp();\n    score.innerText = game.score;\n  } else if (e.key === 'ArrowDown') {\n    game.moveDown();\n    score.innerText = game.score;\n  }\n\n  if (game.getStatus() === 'lose') {\n    loseMessage.classList.remove('hidden');\n    gameMessage.classList.add('hidden');\n  }\n\n  if (game.getStatus() === 'win') {\n    winMessage.classList.remove('hidden');\n    gameMessage.classList.add('hidden');\n  }\n});\n\nstartButton.addEventListener('click', () => {\n  if (startButton.classList.contains('restart')) {\n    startButton.classList.replace('restart', 'start');\n    startButton.innerHTML = 'Start';\n    gameMessage.classList.remove('hidden');\n    loseMessage.classList.add('hidden');\n    score.innerText = 0;\n\n    game.restart();\n  } else {\n    startButton.classList.replace('start', 'restart');\n    startButton.innerHTML = 'Restart';\n    game.start();\n    gameMessage.classList.add('hidden');\n    loseMessage.classList.add('hidden');\n  }\n});\n","'use strict';\n\nclass Game {\n  constructor(\n    initialState = [\n      [0, 0, 0, 0],\n      [0, 0, 0, 0],\n      [0, 0, 0, 0],\n    ],\n  ) {\n    this.grid = initialState;\n    this.score = 0;\n    this.status = 'idle';\n  }\n\n  moveLeft() {\n    for (let row = 0; row < this.grid.length; row++) {\n      let rowWithoutZero = this.grid[row].filter((item) => item > 0);\n\n      for (let i = 0; i < rowWithoutZero.length - 1; i++) {\n        if (rowWithoutZero[i] === rowWithoutZero[i + 1]) {\n          rowWithoutZero[i] *= 2;\n          rowWithoutZero[i + 1] = 0;\n          this.score += rowWithoutZero[i];\n        }\n      }\n\n      rowWithoutZero = rowWithoutZero.filter((cell) => cell !== 0);\n\n      while (rowWithoutZero.length < 4) {\n        rowWithoutZero.push(0);\n      }\n\n      this.grid[row] = rowWithoutZero;\n    }\n\n    this.updateDOM();\n    this.checkWin();\n\n    if (this.status === 'playing') {\n      this.addStartCell();\n      this.checkLose();\n    }\n  }\n\n  moveRight() {\n    for (let row = 0; row < this.grid.length; row++) {\n      let rowWithoutZero = this.grid[row].filter((item) => item > 0);\n\n      for (let i = rowWithoutZero.length - 1; i > 0; i--) {\n        if (rowWithoutZero[i] === rowWithoutZero[i - 1]) {\n          rowWithoutZero[i] *= 2;\n          rowWithoutZero[i - 1] = 0;\n          this.score += rowWithoutZero[i];\n        }\n      }\n\n      rowWithoutZero = rowWithoutZero.filter((cell) => cell !== 0);\n\n      while (rowWithoutZero.length < 4) {\n        rowWithoutZero.unshift(0);\n      }\n\n      this.grid[row] = rowWithoutZero;\n    }\n\n    this.updateDOM();\n    this.checkWin();\n\n    if (this.status === 'playing') {\n      this.addStartCell();\n      this.checkLose();\n    }\n  }\n\n  moveUp() {\n    for (let col = 0; col < this.grid[0].length; col++) {\n      let colWithoutZero = [];\n\n      for (let row = 0; row < this.grid.length; row++) {\n        if (this.grid[row][col] > 0) {\n          colWithoutZero.push(this.grid[row][col]);\n        }\n      }\n\n      for (let i = 0; i < colWithoutZero.length - 1; i++) {\n        if (colWithoutZero[i] === colWithoutZero[i + 1]) {\n          colWithoutZero[i] *= 2;\n          colWithoutZero[i + 1] = 0;\n          this.score += colWithoutZero[i];\n        }\n      }\n\n      colWithoutZero = colWithoutZero.filter((cell) => cell !== 0);\n\n      while (colWithoutZero.length < 4) {\n        colWithoutZero.push(0);\n      }\n\n      for (let row = 0; row < this.grid.length; row++) {\n        this.grid[row][col] = colWithoutZero[row];\n      }\n    }\n\n    this.updateDOM();\n    this.checkWin();\n\n    if (this.status === 'playing') {\n      this.addStartCell();\n      this.checkLose();\n    }\n  }\n\n  moveDown() {\n    for (let col = 0; col < this.grid.length; col++) {\n      let colWithoutZero = [];\n\n      for (let row = 0; row < this.grid.length; row++) {\n        if (this.grid[row][col] > 0) {\n          colWithoutZero.push(this.grid[row][col]);\n        }\n      }\n\n      for (let i = colWithoutZero.length - 1; i > 0; i--) {\n        if (colWithoutZero[i] === colWithoutZero[i - 1]) {\n          colWithoutZero[i] *= 2;\n          colWithoutZero[i - 1] = 0;\n          this.score += colWithoutZero[i];\n        }\n      }\n\n      colWithoutZero = colWithoutZero.filter((cell) => cell !== 0);\n\n      while (colWithoutZero.length < 4) {\n        colWithoutZero.unshift(0);\n      }\n\n      for (let row = 0; row < this.grid.length; row++) {\n        this.grid[row][col] = colWithoutZero[row] || 0;\n      }\n    }\n\n    this.updateDOM();\n    this.checkWin();\n\n    if (this.status === 'playing') {\n      this.addStartCell();\n      this.checkLose();\n    }\n  }\n\n  checkWin() {\n    for (let row = 0; row < this.grid.length; row++) {\n      for (let col = 0; col < this.grid[row].length; col++) {\n        if (this.grid[row][col] === 2048) {\n          this.status = 'win';\n\n          return true;\n        }\n      }\n    }\n\n    this.status = 'playing';\n\n    return false;\n  }\n\n  getScore() {\n    return this.score;\n  }\n\n  getState() {\n    return this.grid;\n  }\n\n  getStatus() {\n    return this.status;\n  }\n\n  start() {\n    this.grid = [\n      [0, 0, 0, 0],\n      [0, 0, 0, 0],\n      [0, 0, 0, 0],\n      [0, 0, 0, 0],\n    ];\n    this.score = 0;\n    this.status = 'playing';\n    this.updateDOM();\n\n    this.addStartCell();\n    this.addStartCell();\n  }\n\n  restart() {\n    const cells = document.querySelectorAll('.field-cell');\n\n    cells.forEach((cell) => {\n      cell.innerHTML = '';\n      cell.className = 'field-cell';\n    });\n\n    this.grid = [\n      [0, 0, 0, 0],\n      [0, 0, 0, 0],\n      [0, 0, 0, 0],\n      [0, 0, 0, 0],\n    ];\n    this.score = 0;\n    this.status = 'idle';\n    this.updateDOM();\n  }\n\n  addStartCell() {\n    const basicCells = Math.random() >= 0.9 ? 4 : 2;\n    const emptyCells = this.grid.flat().filter((cell) => cell === 0);\n\n    if (emptyCells.length === 0) {\n      return;\n    }\n\n    let foundedEmpty = false;\n\n    while (!foundedEmpty) {\n      try {\n        const rowIndex = Math.floor(Math.random() * 4);\n        const cellIndex = Math.floor(Math.random() * 4);\n\n        if (this.grid[rowIndex] && this.grid[rowIndex][cellIndex] === 0) {\n          this.grid[rowIndex][cellIndex] = basicCells;\n          this.updateDOM();\n          foundedEmpty = true;\n        }\n      } catch (error) {\n        return;\n      }\n    }\n  }\n\n  updateDOM() {\n    const cells = document.querySelectorAll('.field-cell');\n\n    for (let row = 0; row < this.grid.length; row++) {\n      for (let col = 0; col < this.grid[row].length; col++) {\n        const cell = cells[row * 4 + col];\n        const value = this.grid[row][col];\n\n        cell.className = 'field-cell';\n        cell.innerHTML = '';\n\n        if (value > 0) {\n          cell.classList.add(`field-cell--${value}`);\n          cell.innerHTML = value;\n        }\n      }\n    }\n  }\n\n  checkLose() {\n    for (let row = 0; row < this.grid.length; row++) {\n      for (let col = 0; col < this.grid[row].length; col++) {\n        if (this.grid[row][col] === 0) {\n          this.status = 'playing';\n\n          return false;\n        }\n      }\n    }\n\n    for (let row = 0; row < this.grid.length; row++) {\n      for (let col = 0; col < this.grid[row].length; col++) {\n        if (\n          (row > 0 && this.grid[row][col] === this.grid[row - 1][col]) ||\n          (row < this.grid.length - 1 &&\n            this.grid[row][col] === this.grid[row + 1][col]) ||\n          (col > 0 && this.grid[row][col] === this.grid[row][col - 1]) ||\n          (col < this.grid[row].length - 1 &&\n            this.grid[row][col] === this.grid[row][col + 1])\n        ) {\n          this.status = 'playing';\n\n          return false;\n        }\n      }\n    }\n\n    this.status = 'lose';\n\n    return true;\n  }\n}\n\nmodule.exports = Game;\n","function _class_call_check(instance, Constructor) {\n    if (!(instance instanceof Constructor)) throw new TypeError(\"Cannot call a class as a function\");\n}\nexport { _class_call_check as _ };\n","function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n\n        if (\"value\" in descriptor) descriptor.writable = true;\n\n        Object.defineProperty(target, descriptor.key, descriptor);\n    }\n}\nfunction _create_class(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n\n    return Constructor;\n}\nexport { _create_class as _ };\n"],"names":["$197cd56b15c33885$var$game","$197cd56b15c33885$var$startButton","$197cd56b15c33885$var$gameMessage","$197cd56b15c33885$var$loseMessage","$197cd56b15c33885$var$winMessage","$197cd56b15c33885$var$score","protoProps","Game","initialState","arguments","length","instance","Constructor","TypeError","grid","score","status","key","value","_this","row","_loop","rowWithoutZero","filter","item","i","cell","push","updateDOM","checkWin","addStartCell","checkLose","unshift","col","colWithoutZero","row1","cells","document","querySelectorAll","forEach","innerHTML","className","basicCells","Math","random","emptyCells","flat","foundedEmpty","rowIndex","floor","cellIndex","error","classList","add","concat","col1","$4fc75ccb937ab1df$var$_defineProperties","target","props","descriptor","enumerable","configurable","writable","Object","defineProperty","prototype","querySelector","addEventListener","e","moveLeft","innerText","moveRight","moveUp","moveDown","getStatus","remove","contains","replace","restart","start"],"version":3,"file":"index.83758c5b.js.map"}